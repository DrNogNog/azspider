Local webhook server for marking Supabase profiles paid when Stripe completes a Checkout Session.

Setup
1. Copy `.env.example` to `.env` and fill in values:
   - STRIPE_SECRET_KEY: your Stripe secret key (test key ok)
   - STRIPE_WEBHOOK_SECRET: generated by Stripe when creating a webhook endpoint
   - SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY: use your Supabase project values

2. Install dependencies and start:
   npm install
   npm start

Testing with Stripe CLI (recommended for local dev)
1. Install Stripe CLI: https://stripe.com/docs/stripe-cli
2. Forward events to local server (run from project/webhook-server):
   stripe listen --forward-to localhost:3000/webhook

3. Create a test Checkout Session via the dashboard or the CLI, complete payment with test card 4242 4242 4242 4242.

When a checkout.session.completed event fires, the webhook will attempt to find a profile by the customer's email and set `is_paid=true`.

Security
- Use the `STRIPE_WEBHOOK_SECRET` and verify signatures.
- Use Supabase service-role key only on the server (never in client-side code).

